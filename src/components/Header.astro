---
import DarkModeToggle from './DarkModeToggle.astro';

const currentPath = Astro.url.pathname;
const baseUrl = import.meta.env.BASE_URL;
const normalizedBaseUrl = baseUrl.endsWith('/') ? baseUrl.slice(0, -1) : baseUrl;
---

<header class="fixed top-0 left-0 right-0 z-50 bg-white/95 dark:bg-gray-900/95 backdrop-blur-md border-b border-gray-200 dark:border-gray-800">
  <nav class="container mx-auto px-6 py-5">
    <div class="flex items-center justify-between">
      <a href={baseUrl} class="flex items-center gap-3 hover:opacity-70 transition-opacity">
        <img 
          src="/blogicon.png" 
          alt="Blog Icon" 
          class="w-10 h-10 md:w-12 md:h-12 object-contain"
        />
        <span class="text-2xl font-bold text-gray-900 dark:text-white tracking-tight">
          MY BLOG
        </span>
      </a>
      <div class="flex items-center gap-8">
        <ul class="flex gap-8">
          <li>
            <a
              href={baseUrl}
              class={`text-sm font-medium transition-opacity hover:opacity-70 uppercase tracking-wider ${
                currentPath === baseUrl || currentPath === normalizedBaseUrl || currentPath === '/' 
                  ? 'text-gray-900 dark:text-white border-b-2 border-gray-900 dark:border-white pb-1' 
                  : 'text-gray-600 dark:text-gray-400'
              }`}
            >
              HOME
            </a>
          </li>
          <li>
            <a
              href={`${baseUrl}about`}
              class={`text-sm font-medium transition-opacity hover:opacity-70 uppercase tracking-wider ${
                currentPath.startsWith(`${baseUrl}about`) 
                  ? 'text-gray-900 dark:text-white border-b-2 border-gray-900 dark:border-white pb-1' 
                  : 'text-gray-600 dark:text-gray-400'
              }`}
            >
              ABOUT
            </a>
          </li>
          <li>
            <a
              href={`${baseUrl}blog`}
              class={`text-sm font-medium transition-opacity hover:opacity-70 uppercase tracking-wider ${
                currentPath.startsWith(`${baseUrl}blog`) 
                  ? 'text-gray-900 dark:text-white border-b-2 border-gray-900 dark:border-white pb-1' 
                  : 'text-gray-600 dark:text-gray-400'
              }`}
            >
              BLOG
            </a>
          </li>
        </ul>
        <DarkModeToggle />
      </div>
    </div>
  </nav>
</header>

