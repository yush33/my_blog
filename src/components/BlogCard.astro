---
interface Props {
  title: string;
  description: string;
  pubDate: Date;
  tags?: string[];
  category?: string;
  url: string;
}

const { title, description, pubDate, tags = [], category, url } = Astro.props;
const formattedDate = new Intl.DateTimeFormat('ko-KR', {
  year: 'numeric',
  month: 'long',
  day: 'numeric',
}).format(pubDate);
const baseUrl = import.meta.env.BASE_URL;
---

<article class="bg-white dark:bg-gray-800 rounded-lg shadow-md hover:shadow-xl overflow-hidden border border-gray-200 dark:border-gray-700" style="transition: box-shadow 0.3s ease, transform 0.3s ease;">
  <div class="p-6">
    {category && (
      <span class="inline-block px-3 py-1 text-xs font-semibold text-primary-600 dark:text-primary-400 bg-primary-50 dark:bg-primary-900/30 rounded-full mb-3">
        {category}
      </span>
    )}
    <h2 class="text-2xl font-bold mb-3 hover:text-primary-600 dark:hover:text-primary-400 transition-colors">
      <a href={url}>{title}</a>
    </h2>
    <p class="text-gray-600 dark:text-gray-400 mb-4 line-clamp-2">{description}</p>
    <div class="flex items-center justify-between flex-wrap gap-2">
      <time class="text-sm text-gray-500 dark:text-gray-500" datetime={pubDate.toISOString()}>
        {formattedDate}
      </time>
      {tags.length > 0 && (
        <div class="flex flex-wrap gap-2">
          {tags.map((tag) => (
            <a
              href={`${baseUrl}blog?tag=${encodeURIComponent(tag)}`}
              class="text-xs px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded hover:bg-primary-100 dark:hover:bg-primary-900/30 hover:text-primary-600 dark:hover:text-primary-400 transition-colors"
            >
              #{tag}
            </a>
          ))}
        </div>
      )}
    </div>
  </div>
</article>

